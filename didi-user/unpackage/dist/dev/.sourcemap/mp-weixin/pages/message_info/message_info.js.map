{"version":3,"sources":["webpack:////Users/zhujia/workspace/wechat-app/didi-pro/didi-fronts/didi-user/pages/message_info/message_info.vue?ccbd","webpack:////Users/zhujia/workspace/wechat-app/didi-pro/didi-fronts/didi-user/pages/message_info/message_info.vue?0617","webpack:////Users/zhujia/workspace/wechat-app/didi-pro/didi-fronts/didi-user/pages/message_info/message_info.vue?dbb5","webpack:////Users/zhujia/workspace/wechat-app/didi-pro/didi-fronts/didi-user/pages/message_info/message_info.vue?1dbf","webpack:////Users/zhujia/workspace/wechat-app/didi-pro/didi-fronts/didi-user/pages/message_info/message_info.vue","webpack:////Users/zhujia/workspace/wechat-app/didi-pro/didi-fronts/didi-user/pages/message_info/message_info.vue?9710","webpack:////Users/zhujia/workspace/wechat-app/didi-pro/didi-fronts/didi-user/pages/message_info/message_info.vue?c125"],"names":["app","getApp","data","fromUser","toUser","textMsg","globalData","msg","scrollAnimation","scrollTop","scrollToView","msgList","msgImgList","myuid","RECORDER","uni","getRecorderManager","isVoice","voiceTis","recordTis","recording","willStop","initPoint","identifier","Y","recordTimer","recordLength","over","AUDIO","createInnerAudioContext","playMsgid","VoiceTimer","showEmji","info","getStorageSync","emojiList","alt","onlineEmoji","onUnload","clearInterval","interval","onHide","switchTab","url","onLoad","option","that","orderId","titleName","name","socket","openId","setNavigationBarTitle","title","resetUnreadMsgList","getMsgList","setInterval","loadMessageDetail","onEnded","res","onStart","e","recordBegin","onStop","recordEnd","methods","getLeftTime","endTime","messageListInfo","Date","$util","getFormatDate","messageDetail","userMsgDetail","i","length","hasRead","screenMsg","resetUnreadMsgCount","setStorageSync","messageList","count","leftTime","list","type","setPicSize","console","log","JSON","stringify","push","$nextTick","row","maxW","upx2px","maxH","w","h","scale","addTextMsg","addVoiceMsg","addImgMsg","id","chooseEmoji","hideEmoji","addEmoji","em","sendText","content","replaceEmoji","sendMsg","str","replacedStr","replace","item","index","j","EM","onlinePath","imgstr","chooseImage","sizeType","success","tempFilePaths","filePath","showLoading","mask","uploadFile","serverUrl","header","result","resData","parse","getImageInfo","src","image","width","height","fail","err","showToast","icon","duration","complete","hideLoading","nowDate","checkSessionNotOuttime","singleRequest","uuid","username","nickName","face","avatarUrl","fromUid","toUid","time","emit","flag","message","checkFistMsg","updateMessage","tmpArr","filter","p","request","param","contentType","startTime","payType","inquiryTime","getInquiryTimeByType","error","checkDate","showPic","previewImage","indicator","current","urls","playVoice","play","voiceBegin","touches","clientY","start","format","voiceCancel","stop","voiceIng","touche","voiceEnd","tempFilePath","min","parseInt","sec","switchVoice","discard"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2F;AAC3B;AACL;AACc;;;AAGzE;AACgL;AAChL,gBAAgB,4KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,qwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgHr1B,kE,CAhHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEC,IAAMA,GAAG,GAAGC,MAAM,EAAlB,C,eAEe,EACdC,IADc,kBACP,CACN,OAAO,EACN;AACAC,cAAQ,EAAC,EAFH,EAGNC,MAAM,EAAC,EAHD,EAINC,OAAO,EAACL,GAAG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","file":"pages/message_info/message_info.js","sourcesContent":["import { render, staticRenderFns } from \"./message_info.vue?vue&type=template&id=61ad1238&\"\nimport script from \"./message_info.vue?vue&type=script&lang=js&\"\nexport * from \"./message_info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message_info.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('61ad1238', component.options)\n    } else {\n      api.reload('61ad1238', component.options)\n    }\n    module.hot.accept(\"./message_info.vue?vue&type=template&id=61ad1238&\", function () {\n      api.rerender('61ad1238', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/zhujia/workspace/wechat-app/didi-pro/didi-fronts/didi-user/pages/message_info/message_info.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message_info.vue?vue&type=template&id=61ad1238&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message_info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message_info.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\tconst app = getApp()\n\timport { serverUrl } from '../../config/index.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t//文字消息\n\t\t\t\tfromUser:'',\n\t\t\t\ttoUser:'',\n\t\t\t\ttextMsg:app.globalData.msg,\n\t\t\t\t//消息列表\n\t\t\t\tscrollAnimation:false,\n\t\t\t\tscrollTop:0,\n\t\t\t\tscrollToView:'',\n\t\t\t\tmsgList:[],\n\t\t\t\tmsgImgList:[],\n\t\t\t\tmyuid:'',\n\t\t\t\t//录音相关参数\n\n\t\t\t\t//H5不能录音\n\t\t\t\tRECORDER:uni.getRecorderManager(),\n\n\t\t\t\tisVoice:false,\n\t\t\t\tvoiceTis:'按住 说话',\n\t\t\t\trecordTis:\"手指上滑 取消发送\",\n\t\t\t\trecording:false,\n\t\t\t\twillStop:false,\n\t\t\t\tinitPoint:{identifier:0,Y:0},\n\t\t\t\trecordTimer:null,\n\t\t\t\trecordLength:0,\n\t\t\t\tover:'1',\n\t\t\t\t//播放语音相关参数\n\t\t\t\tAUDIO:uni.createInnerAudioContext(),\n\t\t\t\tplayMsgid:null,\n\t\t\t\tVoiceTimer:null,\n\t\t\t\t//表情定义\n\t\t\t\tshowEmji:'',\n\t\t\t\tinfo : uni.getStorageSync(\"patientInfo\"),\n\t\t\t\temojiList:[\n\t\t\t\t\t[{\"url\":\"100.gif\",alt:\"[微笑]\"},{\"url\":\"101.gif\",alt:\"[伤心]\"},{\"url\":\"102.gif\",alt:\"[美女]\"},{\"url\":\"103.gif\",alt:\"[发呆]\"},{\"url\":\"104.gif\",alt:\"[墨镜]\"},{\"url\":\"105.gif\",alt:\"[哭]\"},{\"url\":\"106.gif\",alt:\"[羞]\"},{\"url\":\"107.gif\",alt:\"[哑]\"},{\"url\":\"108.gif\",alt:\"[睡]\"},{\"url\":\"109.gif\",alt:\"[哭]\"},{\"url\":\"110.gif\",alt:\"[囧]\"},{\"url\":\"111.gif\",alt:\"[怒]\"},{\"url\":\"112.gif\",alt:\"[调皮]\"},{\"url\":\"113.gif\",alt:\"[笑]\"},{\"url\":\"114.gif\",alt:\"[惊讶]\"},{\"url\":\"115.gif\",alt:\"[难过]\"},{\"url\":\"116.gif\",alt:\"[酷]\"},{\"url\":\"117.gif\",alt:\"[汗]\"},{\"url\":\"118.gif\",alt:\"[抓狂]\"},{\"url\":\"119.gif\",alt:\"[吐]\"},{\"url\":\"120.gif\",alt:\"[笑]\"},{\"url\":\"121.gif\",alt:\"[快乐]\"},{\"url\":\"122.gif\",alt:\"[奇]\"},{\"url\":\"123.gif\",alt:\"[傲]\"}],\n\t\t\t\t\t[{\"url\":\"124.gif\",alt:\"[饿]\"},{\"url\":\"125.gif\",alt:\"[累]\"},{\"url\":\"126.gif\",alt:\"[吓]\"},{\"url\":\"127.gif\",alt:\"[汗]\"},{\"url\":\"128.gif\",alt:\"[高兴]\"},{\"url\":\"129.gif\",alt:\"[闲]\"},{\"url\":\"130.gif\",alt:\"[努力]\"},{\"url\":\"131.gif\",alt:\"[骂]\"},{\"url\":\"132.gif\",alt:\"[疑问]\"},{\"url\":\"133.gif\",alt:\"[秘密]\"},{\"url\":\"134.gif\",alt:\"[乱]\"},{\"url\":\"135.gif\",alt:\"[疯]\"},{\"url\":\"136.gif\",alt:\"[哀]\"},{\"url\":\"137.gif\",alt:\"[鬼]\"},{\"url\":\"138.gif\",alt:\"[打击]\"},{\"url\":\"139.gif\",alt:\"[bye]\"},{\"url\":\"140.gif\",alt:\"[汗]\"},{\"url\":\"141.gif\",alt:\"[抠]\"},{\"url\":\"142.gif\",alt:\"[鼓掌]\"},{\"url\":\"143.gif\",alt:\"[糟糕]\"},{\"url\":\"144.gif\",alt:\"[恶搞]\"},{\"url\":\"145.gif\",alt:\"[什么]\"},{\"url\":\"146.gif\",alt:\"[什么]\"},{\"url\":\"147.gif\",alt:\"[累]\"}],\n\t\t\t\t\t[{\"url\":\"148.gif\",alt:\"[看]\"},{\"url\":\"149.gif\",alt:\"[难过]\"},{\"url\":\"150.gif\",alt:\"[难过]\"},{\"url\":\"151.gif\",alt:\"[坏]\"},{\"url\":\"152.gif\",alt:\"[亲]\"},{\"url\":\"153.gif\",alt:\"[吓]\"},{\"url\":\"154.gif\",alt:\"[可怜]\"},{\"url\":\"155.gif\",alt:\"[刀]\"},{\"url\":\"156.gif\",alt:\"[水果]\"},{\"url\":\"157.gif\",alt:\"[酒]\"},{\"url\":\"158.gif\",alt:\"[篮球]\"},{\"url\":\"159.gif\",alt:\"[乒乓]\"},{\"url\":\"160.gif\",alt:\"[咖啡]\"},{\"url\":\"161.gif\",alt:\"[美食]\"},{\"url\":\"162.gif\",alt:\"[动物]\"},{\"url\":\"163.gif\",alt:\"[鲜花]\"},{\"url\":\"164.gif\",alt:\"[枯]\"},{\"url\":\"165.gif\",alt:\"[唇]\"},{\"url\":\"166.gif\",alt:\"[爱]\"},{\"url\":\"167.gif\",alt:\"[分手]\"},{\"url\":\"168.gif\",alt:\"[生日]\"},{\"url\":\"169.gif\",alt:\"[电]\"},{\"url\":\"170.gif\",alt:\"[炸弹]\"},{\"url\":\"171.gif\",alt:\"[刀子]\"}],\n\t\t\t\t\t[{\"url\":\"172.gif\",alt:\"[足球]\"},{\"url\":\"173.gif\",alt:\"[瓢虫]\"},{\"url\":\"174.gif\",alt:\"[翔]\"},{\"url\":\"175.gif\",alt:\"[月亮]\"},{\"url\":\"176.gif\",alt:\"[太阳]\"},{\"url\":\"177.gif\",alt:\"[礼物]\"},{\"url\":\"178.gif\",alt:\"[抱抱]\"},{\"url\":\"179.gif\",alt:\"[拇指]\"},{\"url\":\"180.gif\",alt:\"[贬低]\"},{\"url\":\"181.gif\",alt:\"[握手]\"},{\"url\":\"182.gif\",alt:\"[剪刀手]\"},{\"url\":\"183.gif\",alt:\"[抱拳]\"},{\"url\":\"184.gif\",alt:\"[勾引]\"},{\"url\":\"185.gif\",alt:\"[拳头]\"},{\"url\":\"186.gif\",alt:\"[小拇指]\"},{\"url\":\"187.gif\",alt:\"[拇指八]\"},{\"url\":\"188.gif\",alt:\"[食指]\"},{\"url\":\"189.gif\",alt:\"[ok]\"},{\"url\":\"190.gif\",alt:\"[情侣]\"},{\"url\":\"191.gif\",alt:\"[爱心]\"},{\"url\":\"192.gif\",alt:\"[蹦哒]\"},{\"url\":\"193.gif\",alt:\"[颤抖]\"},{\"url\":\"194.gif\",alt:\"[怄气]\"},{\"url\":\"195.gif\",alt:\"[跳舞]\"}],\n\t\t\t\t\t[{\"url\":\"196.gif\",alt:\"[发呆]\"},{\"url\":\"197.gif\",alt:\"[背着]\"},{\"url\":\"198.gif\",alt:\"[伸手]\"},{\"url\":\"199.gif\",alt:\"[耍帅]\"},{\"url\":\"200.png\",alt:\"[微笑]\"},{\"url\":\"201.png\",alt:\"[生病]\"},{\"url\":\"202.png\",alt:\"[哭泣]\"},{\"url\":\"203.png\",alt:\"[吐舌]\"},{\"url\":\"204.png\",alt:\"[迷糊]\"},{\"url\":\"205.png\",alt:\"[瞪眼]\"},{\"url\":\"206.png\",alt:\"[恐怖]\"},{\"url\":\"207.png\",alt:\"[忧愁]\"},{\"url\":\"208.png\",alt:\"[眨眉]\"},{\"url\":\"209.png\",alt:\"[闭眼]\"},{\"url\":\"210.png\",alt:\"[鄙视]\"},{\"url\":\"211.png\",alt:\"[阴暗]\"},{\"url\":\"212.png\",alt:\"[小鬼]\"},{\"url\":\"213.png\",alt:\"[礼物]\"},{\"url\":\"214.png\",alt:\"[拜佛]\"},{\"url\":\"215.png\",alt:\"[力量]\"},{\"url\":\"216.png\",alt:\"[金钱]\"},{\"url\":\"217.png\",alt:\"[蛋糕]\"},{\"url\":\"218.png\",alt:\"[彩带]\"},{\"url\":\"219.png\",alt:\"[礼物]\"},]\t\t\t\t\n\t\t\t\t],\n\t\t\t\t//表情图片图床名称\n\t\t\t\tonlineEmoji:{\"100.gif\":\"AbNQgA.gif\",\"101.gif\":\"AbN3ut.gif\",\"102.gif\":\"AbNM3d.gif\",\"103.gif\":\"AbN8DP.gif\",\"104.gif\":\"AbNljI.gif\",\"105.gif\":\"AbNtUS.gif\",\"106.gif\":\"AbNGHf.gif\",\"107.gif\":\"AbNYE8.gif\",\"108.gif\":\"AbNaCQ.gif\",\"109.gif\":\"AbNN4g.gif\",\"110.gif\":\"AbN0vn.gif\",\"111.gif\":\"AbNd3j.gif\",\"112.gif\":\"AbNsbV.gif\",\"113.gif\":\"AbNwgs.gif\",\"114.gif\":\"AbNrD0.gif\",\"115.gif\":\"AbNDuq.gif\",\"116.gif\":\"AbNg5F.gif\",\"117.gif\":\"AbN6ET.gif\",\"118.gif\":\"AbNcUU.gif\",\"119.gif\":\"AbNRC4.gif\",\"120.gif\":\"AbNhvR.gif\",\"121.gif\":\"AbNf29.gif\",\"122.gif\":\"AbNW8J.gif\",\"123.gif\":\"AbNob6.gif\",\"124.gif\":\"AbN5K1.gif\",\"125.gif\":\"AbNHUO.gif\",\"126.gif\":\"AbNIDx.gif\",\"127.gif\":\"AbN7VK.gif\",\"128.gif\":\"AbNb5D.gif\",\"129.gif\":\"AbNX2d.gif\",\"130.gif\":\"AbNLPe.gif\",\"131.gif\":\"AbNjxA.gif\",\"132.gif\":\"AbNO8H.gif\",\"133.gif\":\"AbNxKI.gif\",\"134.gif\":\"AbNzrt.gif\",\"135.gif\":\"AbU9Vf.gif\",\"136.gif\":\"AbUSqP.gif\",\"137.gif\":\"AbUCa8.gif\",\"138.gif\":\"AbUkGQ.gif\",\"139.gif\":\"AbUFPg.gif\",\"140.gif\":\"AbUPIS.gif\",\"141.gif\":\"AbUZMn.gif\",\"142.gif\":\"AbUExs.gif\",\"143.gif\":\"AbUA2j.gif\",\"144.gif\":\"AbUMIU.gif\",\"145.gif\":\"AbUerq.gif\",\"146.gif\":\"AbUKaT.gif\",\"147.gif\":\"AbUmq0.gif\",\"148.gif\":\"AbUuZV.gif\",\"149.gif\":\"AbUliF.gif\",\"150.gif\":\"AbU1G4.gif\",\"151.gif\":\"AbU8z9.gif\",\"152.gif\":\"AbU3RJ.gif\",\"153.gif\":\"AbUYs1.gif\",\"154.gif\":\"AbUJMR.gif\",\"155.gif\":\"AbUadK.gif\",\"156.gif\":\"AbUtqx.gif\",\"157.gif\":\"AbUUZ6.gif\",\"158.gif\":\"AbUBJe.gif\",\"159.gif\":\"AbUdIO.gif\",\"160.gif\":\"AbU0iD.gif\",\"161.gif\":\"AbUrzd.gif\",\"162.gif\":\"AbUDRH.gif\",\"163.gif\":\"AbUyQA.gif\",\"164.gif\":\"AbUWo8.gif\",\"165.gif\":\"AbU6sI.gif\",\"166.gif\":\"AbU2eP.gif\",\"167.gif\":\"AbUcLt.gif\",\"168.gif\":\"AbU4Jg.gif\",\"169.gif\":\"AbURdf.gif\",\"170.gif\":\"AbUhFS.gif\",\"171.gif\":\"AbU5WQ.gif\",\"172.gif\":\"AbULwV.gif\",\"173.gif\":\"AbUIzj.gif\",\"174.gif\":\"AbUTQs.gif\",\"175.gif\":\"AbU7yn.gif\",\"176.gif\":\"AbUqe0.gif\",\"177.gif\":\"AbUHLq.gif\",\"178.gif\":\"AbUOoT.gif\",\"179.gif\":\"AbUvYF.gif\",\"180.gif\":\"AbUjFU.gif\",\"181.gif\":\"AbaSSJ.gif\",\"182.gif\":\"AbUxW4.gif\",\"183.gif\":\"AbaCO1.gif\",\"184.gif\":\"Abapl9.gif\",\"185.gif\":\"Aba9yR.gif\",\"186.gif\":\"AbaFw6.gif\",\"187.gif\":\"Abaiex.gif\",\"188.gif\":\"AbakTK.gif\",\"189.gif\":\"AbaZfe.png\",\"190.gif\":\"AbaEFO.gif\",\"191.gif\":\"AbaVYD.gif\",\"192.gif\":\"AbamSH.gif\",\"193.gif\":\"AbaKOI.gif\",\"194.gif\":\"Abanld.gif\",\"195.gif\":\"Abau6A.gif\",\"196.gif\":\"AbaQmt.gif\",\"197.gif\":\"Abal0P.gif\",\"198.gif\":\"AbatpQ.gif\",\"199.gif\":\"Aba1Tf.gif\",\"200.png\":\"Aba8k8.png\",\"201.png\":\"AbaGtS.png\",\"202.png\":\"AbaJfg.png\",\"203.png\":\"AbaNlj.png\",\"204.png\":\"Abawmq.png\",\"205.png\":\"AbaU6s.png\",\"206.png\":\"AbaaXn.png\",\"207.png\":\"Aba000.png\",\"208.png\":\"AbarkT.png\",\"209.png\":\"AbastU.png\",\"210.png\":\"AbaB7V.png\",\"211.png\":\"Abafn1.png\",\"212.png\":\"Abacp4.png\",\"213.png\":\"AbayhF.png\",\"214.png\":\"Abag1J.png\",\"215.png\":\"Aba2c9.png\",\"216.png\":\"AbaRXR.png\",\"217.png\":\"Aba476.png\",\"218.png\":\"Abah0x.png\",\"219.png\":\"Abdg58.png\"}\n\t\t\t};\n\t\t},\n\t\tonUnload() {\n\t\t\tclearInterval(this.interval);//停止\n\t\t},\n\t\tonHide() {\n\t\t\tuni.switchTab({\n\t\t\t\turl:'../message/index'\n\t\t\t})\n\t\t},\n\t\tonLoad(option) {\n\t\t\tvar that = this;\n\t\t\tvar toUser = option.toUser;\n\t\t\tthis.orderId = option.orderId;\n\t\t\tthis.titleName = option.name;\n\t\t\tthis.toUser = toUser;\n\t\t\tthis.socket = app.globalData.socket;\n\t\t\tthis.over = option.over;\n\t\t\tthis.myuid = uni.getStorageSync(\"patientInfo\").openId;\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: this.titleName \n\t\t\t});\n\t\t\tthis.resetUnreadMsgList();\n\t\t\t\n\t\t\tthis.getMsgList();\n\t\t\tthis.interval = setInterval(function() {\n\t\t\t      that.loadMessageDetail()\n\t\t\t}, 2000)\n\t\t\t\n\t\t\t\n\t\t\t//语音自然播放结束\n\t\t\tthis.AUDIO.onEnded((res)=>{\n\t\t\t\tthis.playMsgid=null;\n\t\t\t});\n\n\t\t\t//录音开始事件\n\t\t\tthis.RECORDER.onStart((e)=>{\n\t\t\t\tthis.recordBegin(e);\n\t\t\t})\n\t\t\t//录音结束事件\n\t\t\tthis.RECORDER.onStop((e)=>{\n\t\t\t\tthis.recordEnd(e);\n\t\t\t})\n\n\t\t},\n\t\tmethods:{\n\t\t\tgetLeftTime(){\n\t\t\t\tvar endTime = this.messageListInfo.endTime;\n\t\t\t\tif(endTime == null){\n\t\t\t\t\treturn '';\n\t\t\t\t}else if(new Date() <= new Date(endTime)){\n\t\t\t\t\treturn this.$util.getFormatDate(new Date(endTime),'hh:mm');\n\t\t\t\t}else{\n\t\t\t\t\treturn '已结束';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tloadMessageDetail(){\n\t\t\t\t//获取消息列表中未读的消息\n\t\t\t\tvar messageDetail = uni.getStorageSync(\"messageDetail\");\n\t\t\t\tvar userMsgDetail = messageDetail['order'+this.orderId];\n\t\t\t\tif(userMsgDetail != null){\n\t\t\t\t\tfor(var i=0;i<userMsgDetail.length;i++){\n\t\t\t\t\t\tif(userMsgDetail[i].hasRead == '0'){\n\t\t\t\t\t\t\tthis.screenMsg(userMsgDetail[i]);\n\t\t\t\t\t\t\tuserMsgDetail[i].hasRead ='1';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.resetUnreadMsgCount();\n\t\t\t\t}\n\t\t\t\tmessageDetail['order'+this.orderId] = userMsgDetail;\n\t\t\t\tuni.setStorageSync(\"messageDetail\",messageDetail);\n\t\t\t},\n\t\t\t\n\t\t\tresetUnreadMsgCount(){\n\t\t\t\t// 消息列表置未读消息数置为0\n\t\t\t\tvar that = this;\n\t\t\t\tvar messageList = uni.getStorageSync('messageList');\n\t\t\t\tfor (var i=0;i<messageList.length;i++){\n\t\t\t\t\tif(messageList[i].orderId == this.orderId){\n\t\t\t\t\t\tmessageList[i].count = 0;\n\t\t\t\t\t\tthis.messageListInfo = messageList[i];\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar leftTime = this.getLeftTime();\n\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\ttitle: that.titleName + ' '+leftTime\n\t\t\t\t})\n\t\t\t\tuni.setStorageSync('messageList',messageList);\n\t\t\t},\n\t\t\tresetUnreadMsgList(){\n\t\t\t\tvar messageDetail = uni.getStorageSync(\"messageDetail\");\n\t\t\t\tvar userMsgDetail = messageDetail['order'+this.orderId];\n\t\t\t\tif(userMsgDetail != null){\n\t\t\t\t\tfor(var i=0;i<userMsgDetail.length;i++){\n\t\t\t\t\t\tif(userMsgDetail[i].hasRead == '0'){\n\t\t\t\t\t\t\tuserMsgDetail[i].hasRead ='1';\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// this.resetUnreadMsgCount();\n\t\t\t\t\t}\n\t\t\t\t\tmessageDetail['order'+this.orderId] = userMsgDetail;\n\t\t\t\t}else{\n\t\t\t\t\tmessageDetail = {};\n\t\t\t\t\tmessageDetail['order'+this.orderId] = [];\n\t\t\t\t}\n\t\t\t\t// messageDetail[this.toUser] = userMsgDetail;\n\t\t\t\tuni.setStorageSync(\"messageDetail\",messageDetail);\n\t\t\t},\n\t\t\tgetMsgList(){\n\t\t\t\t// this.resetUnreadMsgCount();\n\t\t\t\t// 消息列表\n\t\t\t\tlet list = uni.getStorageSync(\"messageDetail\")['order'+this.orderId];\n\t\t\t\t// 获取消息中的图片,并处理显示尺寸\n\t\t\t\tif(list != null) {\n\t\t\t\t\tfor(let i=0;i<list.length;i++){\n\t\t\t\t\t\tif(list[i].type=='img'){\n\t\t\t\t\t\t\tlist[i] = this.setPicSize(list[i]);\n\t\t\t\t\t\t\tconsole.log(\"list[i]: \" + JSON.stringify(list[i]));\n\t\t\t\t\t\t\tthis.msgImgList.push(list[i].msg.url);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.msgList = list;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 滚动到底部\n\t\t\t\tthis.$nextTick(function() {\n\t\t\t\t\tthis.scrollTop = 9999;\n\t\t\t\t\tthis.scrollAnimation = true;\n\t\t\t\t});\n\t\t\t},\n\t\t\t//处理图片尺寸，如果不处理宽高，新进入页面加载图片时候会闪\n\t\t\tsetPicSize(row){\n\t\t\t\tlet maxW = uni.upx2px(350);\n\t\t\t\tlet maxH = uni.upx2px(350);\n\t\t\t\tif(row.msg.w>maxW||row.msg.h>maxH){\n\t\t\t\t\tlet scale = row.msg.w/row.msg.h;\n\t\t\t\t\tif(row.msg.w>row.msg.h){\n\t\t\t\t\t\trow.msg.w = maxW;\n\t\t\t\t\t\trow.msg.h = row.msg.w/scale\n\t\t\t\t\t}else{\n\t\t\t\t\t\trow.msg.h = maxH;\n\t\t\t\t\t\trow.msg.w = row.msg.h*scale;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn row;\n\t\t\t},\n\t\t\t// 接受消息(筛选处理)\n\t\t\tscreenMsg(msg){\n\t\t\t\t//从长连接处转发给这个方法，进行筛选处理\n\t\t\t\t// if(msg.fromUid!=this.myuid){\n\t\t\t\t// \tuni.vibrateLong();\n\t\t\t\t// }\n\t\t\t\tswitch (msg.type){\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\tthis.addTextMsg(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'voice':\n\t\t\t\t\t\tthis.addVoiceMsg(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'img':\n\t\t\t\t\t\tthis.addImgMsg(msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(msg.id){\n\t\t\t\t\tthis.$nextTick(function() {\n\t\t\t\t\t\tthis.scrollToView = 'msg'+msg.id\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 选择表情\n\t\t\tchooseEmoji(){\n\t\t\t\tthis.showEmji = this.showEmji=='showEmoji'?'hideEmoji':'showEmoji';\n\t\t\t},\n\t\t\t// 隐藏表情\n\t\t\thideEmoji(){\n\t\t\t\tthis.showEmji = this.showEmji=='showEmoji'?'hideEmoji':'';\n\t\t\t},\n\t\t\t//添加表情\n\t\t\taddEmoji(em){\n\t\t\t\tthis.textMsg+=em.alt;\n\t\t\t},\n\t\t\t// 发送文字消息\n\t\t\tsendText(){\n\t\t\t\tthis.hideEmoji();\n\t\t\t\tif(!this.textMsg){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet content = this.replaceEmoji(this.textMsg);\n\t\t\t\tlet msg = {content:content};\n\t\t\t\tthis.sendMsg(msg,'text');\n\t\t\t\tthis.textMsg = '';\n\t\t\t},\n\t\t\t//替换表情符号为图片\n\t\t\treplaceEmoji(str){\n\t\t\t\tlet replacedStr = str.replace(/\\[([^(\\]|\\[)]*)\\]/g,(item, index)=>{\n\t\t\t\t\tconsole.log(\"item: \" + item);\n\t\t\t\t\tfor(let i=0;i<this.emojiList.length;i++){\n\t\t\t\t\t\tlet row = this.emojiList[i];\n\t\t\t\t\t\tfor(let j=0;j<row.length;j++){\n\t\t\t\t\t\t\tlet EM = row[j];\n\t\t\t\t\t\t\tif(EM.alt==item){\n\t\t\t\t\t\t\t\t//在线表情路径，图文混排必须使用网络路径\n\t\t\t\t\t\t\t\tlet onlinePath = 'https://s2.ax1x.com/2019/04/12/'\n\t\t\t\t\t\t\t\tlet imgstr = '<img src=\"'+onlinePath+this.onlineEmoji[EM.url]+'\">';\n\t\t\t\t\t\t\t\tconsole.log(\"imgstr: \" + imgstr);\n\t\t\t\t\t\t\t\treturn imgstr;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// return '<div style=\"display: flex;align-items: center;\">'+replacedStr+'</div>';\n\t\t\t\treturn replacedStr;\n\t\t\t},\n\t\t\t// 选择图片发送\n\t\t\tchooseImage(){\n\t\t\t\tvar that = this;\n\t\t\t\tthis.hideEmoji();\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\t\tsuccess: (res)=>{\n\t\t\t\t\t\tfor(let i=0;i<res.tempFilePaths.length;i++){\n\t\t\t\t\t\t\tvar filePath = res.tempFilePaths[i];\n\t\t\t\t\t\t\tconsole.log(res.tempFilePaths[i]);\n\t\t\t\t\t\t\tuni.showLoading({mask:true});\n\t\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\t\turl: serverUrl+'/didi-patient/ossfile/fileUpload', \n\t\t\t\t\t\t\t\tfilePath: filePath,  \n\t\t\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\t\t\theader: {  \n\t\t\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\n\t\t\t\t\t\t\t\t\t'partnerId':uni.getStorageSync('channelId')?uni.getStorageSync('channelId'):'1',\n\t\t\t\t\t\t\t        'token':uni.getStorageSync('Token')?uni.getStorageSync('Token'):''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: (result) => {  \n\t\t\t\t\t\t\t\t\tvar resData =  JSON.parse(result.data);\n\t\t\t\t\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\t\t\t\t\tsrc: filePath,\n\t\t\t\t\t\t\t\t\t\tsuccess: (image)=>{\n\t\t\t\t\t\t\t\t\t\t\tlet msg = {\n\t\t\t\t\t\t\t\t\t\t\t\tcontent:'[图片]', \n\t\t\t\t\t\t\t\t\t\t\t\turl:resData.data[0],\n\t\t\t\t\t\t\t\t\t\t\t\tw:image.width,\n\t\t\t\t\t\t\t\t\t\t\t\th:image.height,\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tthat.sendMsg(msg,'img');\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t},  \n\t\t\t\t\t\t\t\tfail: function(err) {  \n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle:\"发送失败，请重试\",\n\t\t\t\t\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\t\t\t\t\tduration:2000\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},  \n\t\t\t\t\t\t\t\tcomplete:function(res){  \n\t\t\t\t\t\t\t\t\tuni.hideLoading();  \n\t\t\t\t\t\t\t\t}  \n\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 发送消息\n\t\t\tsendMsg(content,type){\n\t\t\t\t//实际应用中，此处应该提交长连接，模板仅做本地处理。\n\t\t\t\tvar that = this;\n\t\t\t\tvar nowDate = new Date();\n\t\t\t\t//检查订单是否结束 false结束 true未结束\n\t\t\t\tif(!this.checkSessionNotOuttime(nowDate)){\n\t\t\t\t\t//消息超时 提示消息并更改状态\n\t\t\t\t\tthis.over = '1';\n\t\t\t\t\tthis.messageListInfo.over = '1';\n\t\t\t\t\t//更新缓存\n\t\t\t\t\tvar messageList = uni.getStorageSync('messageList');\n\t\t\t\t\tfor (var i=0;i<messageList.length;i++){\n\t\t\t\t\t\tif(messageList[i].orderId == this.orderId){\n\t\t\t\t\t\t\tmessageList[i] = this.messageListInfo;\n\t\t\t\t\t\t\tthis.messageListInfo = messageList[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tuni.setStorageSync('messageList',messageList);\n\t\t\t\t\t\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '此次订单已结束！',\n\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet singleRequest = {\n\t\t\t\t\torderId:this.orderId,\n\t\t\t\t\tid:that.$util.uuid(),\n\t\t\t\t\tusername:this.info.nickName,\n\t\t\t\t\tface:this.info.avatarUrl,\n\t\t\t\t\tfromUid: that.myuid,\n\t\t\t\t\ttoUid: that.toUser,\n\t\t\t\t\ttime:this.$util.getFormatDate(new Date(),'yyyy-MM-dd hh:mm:ss'),\n\t\t\t\t\ttype:type,\n\t\t\t\t\tmsg:content\n\t\t\t\t};\n\t\t\t\tconsole.log(singleRequest);\n\t\t\t\tthis.socket.emit('chat', singleRequest, function (data) {\n\t\t\t\t\tconsole.log('系统通知: 你刚刚和 '+that.toUser+' 说了句悄悄话');\n\t\t\t\t\tif (data && data.flag) {\n\t\t\t\t\t\tconsole.log('系统通知: 悄悄话 '+data.message+' 说了句悄悄话');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('系统通知: 悄悄话 '+data.message+' 说了句悄悄话');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//检查是否为用户第一条消息\n\t\t\t\tthis.checkFistMsg(singleRequest);\n\t\t\t\t//屏幕添加发送的消息\n\t\t\t\tthis.screenMsg(singleRequest);\n\t\t\t\t//发送的消息记录到缓存\n\t\t\t\tthis.$util.updateMessage(singleRequest,\"1\");\n\t\t\t},\n\t\t\t\n\t\t\tcheckFistMsg(msg) {\n\t\t\t\tvar that = this;\n\t\t\t\tvar messageDetail = uni.getStorageSync(\"messageDetail\");\n\t\t\t\tvar userMsgDetail = messageDetail['order'+this.orderId];\t//获取消息数组\n\t\t\t\t//判断用户之前是否有发送过消息\n\t\t\t\tvar tmpArr = userMsgDetail.filter(function(p){\n\t\t\t\t  return p.fromUid === that.myuid;\n\t\t\t\t});\n\t\t\t\tif(tmpArr.length<1){\n\t\t\t\t\t//未发送过消息 调用首次发送消息\n\t\t\t\t\tthat.$util.request({\n\t\t\t\t\t\turl: \"/didi-patient/inquiryinfo/patientFirstSendMessage\",\n\t\t\t\t\t\tparam: {\"inquiryId\":that.orderId}, \n\t\t\t\t\t\tcontentType: 'application/x-www-form-urlencoded',\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t//记录接单开始时间 付费时间\n\t\t\t\t\t\t\tvar startTime= res.data.startTime;\n\t\t\t\t\t\t\tvar endTime= res.data.endTime;\n\t\t\t\t\t\t\tvar payType = res.data.payType;\n\t\t\t\t\t\t\tvar inquiryTime = that.$util.getInquiryTimeByType(payType);\n\t\t\t\t\t\t\tvar messageListInfo = that.messageListInfo;\n\t\t\t\t\t\t\tmessageListInfo.startTime = startTime;\n\t\t\t\t\t\t\tmessageListInfo.endTime = endTime;\n\t\t\t\t\t\t\tmessageListInfo.inquiryTime = inquiryTime;\n\t\t\t\t\t\t\t//更新缓存\n\t\t\t\t\t\t\tvar messageList = uni.getStorageSync('messageList');\n\t\t\t\t\t\t\tfor (var i=0;i<messageList.length;i++){\n\t\t\t\t\t\t\t\tif(messageList[i].orderId == that.orderId){\n\t\t\t\t\t\t\t\t\tmessageList[i] = messageListInfo;\n\t\t\t\t\t\t\t\t\tthat.messageListInfo = messageList[i];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuni.setStorageSync('messageList',messageList);\n\t\t\t\t\t\t\tvar leftTime = that.getLeftTime();\n\t\t\t\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\t\t\t\ttitle: option.name+' '+leftTime\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function() {}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tcheckSessionNotOuttime(checkDate){\n\t\t\t\tvar startTime = this.messageListInfo.startTime;\n\t\t\t\tvar endTime = this.messageListInfo.endTime;\n\t\t\t\tvar inquiryTime = this.messageListInfo.inquiryTime;\n\t\t\t\tconsole.log(this.messageListInfo);\n\t\t\t\tif(endTime == null){\n\t\t\t\t\t//第一次发送的消息不作判断\n\t\t\t\t\treturn true;\n\t\t\t\t}else if(checkDate <= new Date(endTime)){\n\t\t\t\t\t//未超时\n\t\t\t\t\treturn true;\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 处理文字消息\n\t\t\taddTextMsg(msg){\n\t\t\t\tthis.msgList.push(msg);\n\t\t\t},\n\t\t\t// 处理语音消息\n\t\t\taddVoiceMsg(msg){\n\t\t\t\tthis.msgList.push(msg);\n\t\t\t},\n\t\t\t// 处理图片消息\n\t\t\taddImgMsg(msg){\n\t\t\t\tmsg = this.setPicSize(msg);\n\t\t\t\tthis.msgImgList.push(msg.msg.url);\n\t\t\t\tthis.msgList.push(msg);\n\t\t\t},\n\t\t\t// 预览图片\n\t\t\tshowPic(row){\n\t\t\t\tuni.previewImage({\n\t\t\t\t\tindicator:\"none\",\n\t\t\t\t\tcurrent:row.msg.url,\n\t\t\t\t\turls: this.msgImgList\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 播放语音\n\t\t\tplayVoice(msg){\n\t\t\t\tthis.playMsgid=msg.id;\n\t\t\t\tthis.AUDIO.src = msg.msg.url;\n\t\t\t\tconsole.log(\"msg.msg.url: \" + msg.msg.url);\n                this.AUDIO.play();\n\t\t\t},\n\t\t\t// 录音开始\n\t\t\tvoiceBegin(e){\n\t\t\t\tif(e.touches.length>1){\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t\tthis.initPoint.Y = e.touches[0].clientY;\n\t\t\t\tthis.initPoint.identifier = e.touches[0].identifier;\n\t\t\t\tthis.RECORDER.start({format:\"aac\"});//录音开始,\n\t\t\t},\n\t\t\t//录音开始UI效果\n\t\t\trecordBegin(e){\n\t\t\t\tthis.recording = true;\n\t\t\t\tthis.voiceTis='松开 结束';\n\t\t\t\tthis.recordLength = 0;\n\t\t\t\tthis.recordTimer = setInterval(()=>{\n\t\t\t\t\tthis.recordLength++;\n\t\t\t\t},1000)\n\t\t\t},\n\t\t\t// 录音被打断\n\t\t\tvoiceCancel(){\n\t\t\t\tthis.recording = false;\n\t\t\t\tthis.voiceTis='按住 说话';\n\t\t\t\tthis.recordTis = '手指上滑 取消发送'\n\t\t\t\tthis.willStop = true;//不发送录音\n\t\t\t\tthis.RECORDER.stop();//录音结束\n\t\t\t},\n\t\t\t// 录音中(判断是否触发上滑取消发送)\n\t\t\tvoiceIng(e){\n\t\t\t\tif(!this.recording){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet touche = e.touches[0];\n\t\t\t\t//上滑一个导航栏的高度触发上滑取消发送\n\t\t\t\tif(this.initPoint.Y - touche.clientY>=uni.upx2px(100)){\n\t\t\t\t\tthis.willStop = true;\n\t\t\t\t\tthis.recordTis = '松开手指 取消发送'\n\t\t\t\t}else{\n\t\t\t\t\tthis.willStop = false;\n\t\t\t\t\tthis.recordTis = '手指上滑 取消发送'\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 结束录音\n\t\t\tvoiceEnd(e){\n\t\t\t\tif(!this.recording){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.recording = false;\n\t\t\t\tthis.voiceTis='按住 说话';\n\t\t\t\tthis.recordTis = '手指上滑 取消发送'\n\t\t\t\tthis.RECORDER.stop();//录音结束\n\t\t\t},\n\t\t\t\n\t\t\t//录音结束(回调文件)\n\t\t\trecordEnd(e){\n\t\t\t\tvar that = this;\n\t\t\t\tclearInterval(this.recordTimer);\n\t\t\t\tif(!this.willStop){\n\t\t\t\t\tlet msg = {\n\t\t\t\t\t\tcontent:'[语音]',\n\t\t\t\t\t\tlength:0,\n\t\t\t\t\t\turl:e.tempFilePath\n\t\t\t\t\t}\n\t\t\t\t\tlet min = parseInt(this.recordLength/60);\n\t\t\t\t\tlet sec = this.recordLength%60;\n\t\t\t\t\tmin = min<10?'0'+min:min;\n\t\t\t\t\tsec = sec<10?'0'+sec:sec;\n\t\t\t\t\tmsg.length = min+':'+sec;\n\t\t\t\t\t\n\t\t\t\t\tuni.showLoading({mask:true});\n\t\t\t\t\tvar filePath = e.tempFilePath;\n\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\turl: serverUrl+'/didi-patient/ossfile/fileUpload',\n\t\t\t\t\t\tfilePath: filePath,  \n\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\theader: {  \n\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\n\t\t\t\t\t\t\t'partnerId':uni.getStorageSync('channelId')?uni.getStorageSync('channelId'):'1',\n\t\t\t\t\t\t    'token':uni.getStorageSync('Token')?uni.getStorageSync('Token'):''\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: (result) => {  \n\t\t\t\t\t\t\tvar resData =  JSON.parse(result.data);\n\t\t\t\t\t\t\tmsg.url = resData.data[0];\n\t\t\t\t\t\t\tthat.sendMsg(msg,'voice');\n\t\t\t\t\t\t},  \n\t\t\t\t\t\tfail: function(err) {  \n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"发送失败，请重试\",\n\t\t\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\t\t\tduration:2000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete:function(res){  \n\t\t\t\t\t\t\tuni.hideLoading();  \n\t\t\t\t\t\t}  \n\t\t\t\t\t}); \n\t\t\t\t}else{\n\t\t\t\t\tconsole.log('取消发送录音');\n\t\t\t\t}\n\t\t\t\tthis.willStop = false;\n\t\t\t},\n\t\t\t// 切换语音/文字输入\n\t\t\tswitchVoice(){\n\t\t\t\tthis.hideEmoji();\n\t\t\t\tthis.isVoice = this.isVoice?false:true;\n\t\t\t},\n\t\t\tdiscard(){\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message_info.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message_info.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}