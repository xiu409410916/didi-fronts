(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/index"],{"0e89":function(t,a,n){"use strict";n.r(a);var e=n("3c81"),i=n.n(e);for(var o in e)"default"!==o&&function(t){n.d(a,t,function(){return e[t]})}(o);a["default"]=i.a},"3c81":function(t,a,n){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={components:{},data:function(){return{patientInfo:{avatarUrl:"../../static/avatar.png",nickName:"点击登录",time:0,patientId:"",mobile:"获取手机号",agentId:null}}},onLoad:function(){var a=this,n=t.getStorageSync("patientInfo");a.$util.isEmpty(n.mobile)||(n.mobile="获取手机号"),a.$util.isEmpty(n.avatarUrl)||(n.avatarUrl="../../static/avatar.png",n.nickName="点击登录"),a.patientInfo=n,a.patientInfo.patientId=n.patientId},onShow:function(){t.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#00C694"})},methods:{toMyTime:function(){t.navigateTo({url:"/pages/my/userTime"})},toMyInquiry:function(){t.navigateTo({url:"/pages/my/userInquiry"})},wxGetUserInfo:function(a){var n=this;if(!a.detail.iv)return t.showToast({title:"您取消了授权,登录失败",icon:"none"}),!1;var e=a.detail.userInfo;n.modifyInfoByOpenId(e.avatarUrl,e.nickName)},modifyInfoByOpenId:function(a,n){var e=this,i={};i.patientId=e.patientInfo.patientId,i.avatarUrl=a,i.nickName=n,e.$util.request({url:"/didi-patient/patientinfo/modifyUserInfo",param:i,success:function(a){e.$util.isEmpty(a.data.mobile)||(a.data.mobile="获取手机号"),e.patientInfo=a.data,t.setStorageSync("patientInfo",a.data)},error:function(){}})},getPhoneNumber:function(a){"getPhoneNumber:ok"==a.target.errMsg?this.createUserByWechatTelephone(a.target.encryptedData,a.target.iv):t.navigateTo({url:"../../login/login"})},createUserByWechatTelephone:function(a,n){var e=this,i={};i.encryptedData=a,i.iv=n,e.$util.request({url:"/didi-patient/patientinfo/modifyMobileInfo",param:i,success:function(a){e.patientInfo=a.data,e.$util.isEmpty(a.data.avatarUrl)||(a.data.avatarUrl="../../static/avatar.png",a.data.nickName="点击登录"),t.setStorageSync("patientInfo",a.data)},error:function(){}})},toDidiDetail:function(){t.navigateTo({url:"/pages/my/didiDetail"})},toQrCode:function(){t.navigateTo({url:"/pages/my/userQrCode"})},toMyGene:function(){t.navigateTo({url:"/pages/my/userGene"})},toUserAmount:function(){t.navigateTo({url:"/pages/my/userAmount?agentId="+this.agentId})}}};a.default=n}).call(this,n("543d")["default"])},7064:function(t,a,n){},"7bd8":function(t,a,n){"use strict";n.r(a);var e=n("a8ea"),i=n("0e89");for(var o in i)"default"!==o&&function(t){n.d(a,t,function(){return i[t]})}(o);n("82eb");var r=n("2877"),u=Object(r["a"])(i["default"],e["a"],e["b"],!1,null,"95dbc902",null);a["default"]=u.exports},"82eb":function(t,a,n){"use strict";var e=n("7064"),i=n.n(e);i.a},"9f0c":function(t,a,n){"use strict";(function(t){n("ea37"),n("921b");e(n("66fd"));var a=e(n("7bd8"));function e(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,n("543d")["createPage"])},a8ea:function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement;t._self._c},i=[];n.d(a,"a",function(){return e}),n.d(a,"b",function(){return i})}},[["9f0c","common/runtime","common/vendor"]]]);