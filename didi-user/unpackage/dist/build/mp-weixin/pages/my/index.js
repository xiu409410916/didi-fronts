(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/index"],{"0e89":function(t,n,a){"use strict";a.r(n);var e=a("3c81"),i=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(n,t,function(){return e[t]})}(o);n["default"]=i.a},"2d41":function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement;t._self._c},i=[];a.d(n,"a",function(){return e}),a.d(n,"b",function(){return i})},"3c81":function(t,n,a){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={components:{},data:function(){return{patientInfo:{avatarUrl:"../../static/avatar.png",nickName:"点击登录",time:0,patientId:"",mobile:"获取手机号",agentId:null}}},onLoad:function(){var n=this,a=t.getStorageSync("patientInfo");n.$util.isEmpty(a.mobile)||(a.mobile="获取手机号"),n.$util.isEmpty(a.avatarUrl)||(a.avatarUrl="../../static/avatar.png",a.nickName="点击登录"),n.patientInfo=a,n.patientInfo.patientId=a.patientId},onShow:function(){t.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#00C694"})},methods:{toMyTime:function(){t.navigateTo({url:"/pages/my/userTime"})},toMyInquiry:function(){t.navigateTo({url:"/pages/my/userInquiry"})},wxGetUserInfo:function(n){var a=this;if(!n.detail.iv)return t.showToast({title:"您取消了授权,登录失败",icon:"none"}),!1;var e=n.detail.userInfo;a.modifyInfoByOpenId(e.avatarUrl,e.nickName)},modifyInfoByOpenId:function(n,a){var e=this,i={};i.patientId=e.patientInfo.patientId,i.avatarUrl=n,i.nickName=a,e.$util.request({url:"/didi-patient/patientinfo/modifyUserInfo",param:i,success:function(n){e.$util.isEmpty(n.data.mobile)||(n.data.mobile="获取手机号"),e.patientInfo=n.data,t.setStorageSync("patientInfo",n.data)},error:function(){}})},getPhoneNumber:function(n){"getPhoneNumber:ok"==n.target.errMsg?this.createUserByWechatTelephone(n.target.encryptedData,n.target.iv):t.navigateTo({url:"../../login/login"})},createUserByWechatTelephone:function(n,a){var e=this,i={};i.encryptedData=n,i.iv=a,e.$util.request({url:"/didi-patient/patientinfo/modifyMobileInfo",param:i,success:function(n){e.patientInfo=n.data,e.$util.isEmpty(n.data.avatarUrl)||(n.data.avatarUrl="../../static/avatar.png",n.data.nickName="点击登录"),t.setStorageSync("patientInfo",n.data)},error:function(){}})},toDidiDetail:function(){t.navigateTo({url:"/pages/my/didiDetail"})},toQrCode:function(){t.navigateTo({url:"/pages/my/userQrCode"})},toMyGene:function(){t.navigateTo({url:"/pages/my/userGene"})},toUserAmount:function(){t.navigateTo({url:"/pages/my/userAmount?agentId="+this.agentId})}}};n.default=a}).call(this,a("543d")["default"])},"4a61":function(t,n,a){"use strict";var e=a("4cc9"),i=a.n(e);i.a},"4cc9":function(t,n,a){},"7bd8":function(t,n,a){"use strict";a.r(n);var e=a("2d41"),i=a("0e89");for(var o in i)"default"!==o&&function(t){a.d(n,t,function(){return i[t]})}(o);a("4a61");var r=a("2877"),u=Object(r["a"])(i["default"],e["a"],e["b"],!1,null,"5d4f6e9c",null);n["default"]=u.exports},"9f0c":function(t,n,a){"use strict";(function(t){a("ea37"),a("921b");e(a("66fd"));var n=e(a("7bd8"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,a("543d")["createPage"])}},[["9f0c","common/runtime","common/vendor"]]]);